<ion-header>
  <ion-toolbar>
     <!-- Botón del Menú en la izquierda -->
     <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Editar Currículum</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Imagen del currículum -->
  <div class="image-container">
    <img
      [src]="selectedImage || curriculumData.imagen || 'assets/default-profile.png'"
      alt="Currículum Imagen"
      class="profile-image"
      (click)="fileInput.click()"
    />
    <input type="file" hidden #fileInput (change)="onImageSelected($event)" />
  </div>

  <!-- Formulario de edición -->
  <ion-list>
    <!-- Nombre -->
    <ion-item>
      <ion-label position="floating">Nombre</ion-label>
      <ion-input [(ngModel)]="curriculumData.nombre"></ion-input>
    </ion-item>

    <!-- Apellido -->
    <ion-item>
      <ion-label position="floating">Apellido</ion-label>
      <ion-input [(ngModel)]="curriculumData.apellido"></ion-input>
    </ion-item>

    <!-- Email -->
    <ion-item>
      <ion-label position="floating">Email</ion-label>
      <ion-input [(ngModel)]="curriculumData.email"></ion-input>
    </ion-item>

    <!-- Teléfono -->
    <ion-item>
      <ion-label position="floating">Teléfono</ion-label>
      <ion-input [(ngModel)]="curriculumData.telefono"></ion-input>
    </ion-item>

    <!-- Introducción -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Introducción</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-textarea
          [(ngModel)]="curriculumData.introduccion"
          placeholder="Escribe una breve introducción sobre ti"
        ></ion-textarea>
      </ion-card-content>
    </ion-card>

    <!-- Educación -->
<ion-card>
  <ion-card-header>
    <ion-card-title>Educación</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div *ngFor="let edu of curriculumData.educacion; let i = index; trackBy: trackByIndex">
      <ion-item>
        <ion-input
          [(ngModel)]="curriculumData.educacion[i]"
          placeholder="Escribe la información educativa"
        ></ion-input>
        <ion-button slot="end" color="danger" (click)="removeItem('educacion', i)">Eliminar</ion-button>
      </ion-item>
    </div>
    <ion-button expand="full" (click)="addItem('educacion')">Agregar Educación</ion-button>
  </ion-card-content>
</ion-card>
<ion-card>
  <ion-card-header>
    <ion-card-title>Cursos</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div *ngFor="let curso of curriculumData.cursos; let i = index; trackBy: trackByIndex">
      <ion-item>
        <ion-input
          [(ngModel)]="curriculumData.cursos[i]"
          placeholder="Escribe el nombre del curso"
        ></ion-input>
        <ion-button slot="end" color="danger" (click)="removeItem('cursos', i)">Eliminar</ion-button>
      </ion-item>
    </div>
    <ion-button expand="full" (click)="addItem('cursos')">Agregar Curso</ion-button>
  </ion-card-content>
</ion-card>
<ion-card>
  <ion-card-header>
    <ion-card-title>Experiencia</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div *ngFor="let exp of curriculumData.experiencia; let i = index; trackBy: trackByIndex">
      <ion-item>
        <ion-input
          [(ngModel)]="curriculumData.experiencia[i]"
          placeholder="Escribe la experiencia laboral"
        ></ion-input>
        <ion-button slot="end" color="danger" (click)="removeItem('experiencia', i)">Eliminar</ion-button>
      </ion-item>
    </div>
    <ion-button expand="full" (click)="addItem('experiencia')">Agregar Experiencia</ion-button>
  </ion-card-content>
  
</ion-card>

<ion-card>
  <ion-card-header>
    <ion-card-title>Habilidades</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div *ngFor="let hab of curriculumData.habilidades; let i = index; trackBy: trackByIndex">
      <ion-item>
        <ion-input
          [(ngModel)]="curriculumData.habilidades[i]"
          placeholder="Escribe tus habilidades"
        ></ion-input>
        <ion-button slot="end" color="danger" (click)="removeItem('habilidades', i)">Eliminar</ion-button>
      </ion-item>
    </div>
    <ion-button expand="full" (click)="addItem('habilidades')">Agregar Habilidad</ion-button>
  </ion-card-content>
</ion-card>
<ion-card>
  <ion-card-header>
    <ion-card-title>Idiomas</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div *ngFor="let idioma of curriculumData.idiomas; let i = index; trackBy: trackByIndex">
      <ion-item>
        <ion-input
          [(ngModel)]="curriculumData.idiomas[i]"
          placeholder="Escribe el idioma"
        ></ion-input>
        <ion-button slot="end" color="danger" (click)="removeItem('idiomas', i)">Eliminar</ion-button>
      </ion-item>
    </div>
    <ion-button expand="full" (click)="addItem('idiomas')">Agregar Idioma</ion-button>
  </ion-card-content>
</ion-card>
<ion-card>
  <ion-card-header>
    <ion-card-title>Referencias</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div *ngFor="let ref of curriculumData.referencias; let i = index; trackBy: trackByIndex">
      <ion-item>
        <ion-input
          [(ngModel)]="curriculumData.referencias[i]"
          placeholder="Escribe la referencia"
        ></ion-input>
        <ion-button slot="end" color="danger" (click)="removeItem('referencias', i)">Eliminar</ion-button>
      </ion-item>
    </div>
    <ion-button expand="full" (click)="addItem('referencias')">Agregar Referencia</ion-button>
  </ion-card-content>
</ion-card>


    <!-- Botón para guardar cambios -->
    <ion-button expand="full" color="primary" (click)="saveChanges()">Guardar Cambios</ion-button>
  </ion-list>
</ion-content>
